name: Test checkout sha

on:
  workflow_dispatch:
    inputs:
      tag:
        required: true
        description: "Tag"
        type: string

jobs:
  register-sha:
    runs-on: ubuntu-latest
    steps:
      - name: save sha
        run: |
          git checkout ${{ inputs.tag }}
          echo "GITHUB_SHA=${{ github.sha }}" >> $GITHUB_OUTPUT

  checkout-print:
    runs-on: ubuntu-latest
    steps:
      - name: Print sha
        run: |
          echo $GITHUB_SHA
